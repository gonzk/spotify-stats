{"ast":null,"code":"var _jsxFileName = \"/Users/kristinegonzales/Projects/spotify-stats/client/src/components/Spotify/GetTopTracks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport StatsButton from '../StatsButton';\nimport axios from \"axios\";\nimport TableRowTracks from \"../TableRowTracks\";\nimport Footer from \"../Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"https://api.spotify.com/v1/me/top/tracks\";\n\nfunction GetTopTracks() {\n  _s();\n\n  const [data, setData] = useState({});\n  const [timeRange, setTimeRange] = useState(\"last 4 weeks\");\n  const token = localStorage.getItem('accessToken');\n\n  const getTopTracks = async range => {\n    if (range === \"short_term\") setTimeRange(\"last 4 weeks\");\n    if (range === \"medium_term\") setTimeRange(\"last 6 months\");\n    if (range === \"long_term\") setTimeRange(\"all time\");\n    const url = `${ENDPOINT}?time_range=${range}&limit=50&offset=0`;\n\n    try {\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      setData(response.data);\n      return response.data;\n    } catch (error) {\n      window.location = \"/\";\n    }\n\n    ;\n  };\n\n  useEffect(() => {\n    getTopTracks(\"short_term\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recently-played-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Top Tracks - \", timeRange, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats__wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"stats-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"last 4 weeks\",\n              onClick: () => {\n                getTopTracks(\"short_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"last 6 months\",\n              onClick: () => {\n                getTopTracks(\"medium_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"all time\",\n              onClick: () => {\n                getTopTracks(\"long_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data__table data__table__tracks\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid__tracks\",\n            children: data !== null && data !== void 0 && data.items ? data.items.map((item, index) => /*#__PURE__*/_jsxDEV(TableRowTracks, {\n              img: item.album.images[2].url,\n              name: item.name,\n              artist: item.artists[0].name,\n              url: item.external_urls.spotify,\n              id: item.id\n            }, `${item.duration_ms} + ${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(GetTopTracks, \"T26wZXLtM3Pgmx0C0vykdSJre20=\");\n\n_c = GetTopTracks;\nexport default GetTopTracks;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetTopTracks\");","map":{"version":3,"sources":["/Users/kristinegonzales/Projects/spotify-stats/client/src/components/Spotify/GetTopTracks.js"],"names":["React","useState","useEffect","StatsButton","axios","TableRowTracks","Footer","ENDPOINT","GetTopTracks","data","setData","timeRange","setTimeRange","token","localStorage","getItem","getTopTracks","range","url","response","get","headers","Authorization","error","window","location","items","map","item","index","album","images","name","artists","external_urls","spotify","id","duration_ms"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport StatsButton from '../StatsButton';\nimport axios from \"axios\";\nimport TableRowTracks from \"../TableRowTracks\";\nimport Footer from \"../Footer\";\n\nconst ENDPOINT = \"https://api.spotify.com/v1/me/top/tracks\";\n\nfunction GetTopTracks() {\n    const [data, setData] = useState({});\n    const [timeRange, setTimeRange] = useState(\"last 4 weeks\")\n\n    const token = localStorage.getItem('accessToken');\n\n    const getTopTracks = async (range) => {\n        if (range === \"short_term\")\n            setTimeRange(\"last 4 weeks\");\n        if (range === \"medium_term\")\n            setTimeRange(\"last 6 months\");\n        if (range === \"long_term\")\n            setTimeRange(\"all time\");\n\n        const url = `${ENDPOINT}?time_range=${range}&limit=50&offset=0`\n        try {\n            const response = await axios.get(url, {\n                headers: {\n                    Authorization: \"Bearer \" + token,\n                },\n            });\n            setData(response.data)\n            return response.data;\n        } catch (error) {\n            window.location = \"/\";\n        };\n    }\n\n    useEffect(() => {\n        getTopTracks(\"short_term\");\n    }, []);\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"recently-played-container\">\n                    <div className=\"title\" >\n                        <h1>Top Tracks - {timeRange} </h1>\n                    </div>\n                    <div className=\"stats__wrapper\">\n                        <ul className=\"stats-buttons\">\n                            <StatsButton title=\"last 4 weeks\" onClick={() => { getTopTracks(\"short_term\") }}></StatsButton>\n                            <StatsButton title=\"last 6 months\" onClick={() => { getTopTracks(\"medium_term\") }}></StatsButton>\n                            <StatsButton title=\"all time\" onClick={() => { getTopTracks(\"long_term\") }}></StatsButton>\n                        </ul>\n                    </div>\n                    <div className=\"data__table data__table__tracks\">\n                        <div className=\"grid grid__tracks\">\n                            {data?.items ? data.items.map((item, index) => \n                                <TableRowTracks key={`${item.duration_ms} + ${index}`} img={item.album.images[2].url} name={item.name}\n                                    artist={item.artists[0].name} url={item.external_urls.spotify} id={item.id}></TableRowTracks>) : null}\n                        </div>\n                    </div>\n                </div>\n                <Footer/>\n            </div>\n        </>\n    );\n}\n\nexport default GetTopTracks;"]},"metadata":{},"sourceType":"module"}