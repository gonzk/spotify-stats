{"ast":null,"code":"var _jsxFileName = \"/Users/kristinegonzales/Projects/spotify-stats/client/src/components/Spotify/GetTopArtists.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport StatsButton from '../StatsButton';\nimport axios from \"axios\";\nimport CardItem from \"../CardItem\";\nimport Footer from \"../Footer\"; // \"https://api.spotify.com/v1/me/shows?offset=0&limit=20\\n\",\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"https://api.spotify.com/v1/me/top/artists\";\n\nfunction GetTopArtists() {\n  _s();\n\n  const [data, setData] = useState({});\n  const [timeRange, setTimeRange] = useState(\"last 4 weeks\");\n  const token = localStorage.getItem('accessToken');\n\n  const getTopArtists = async range => {\n    if (range === \"short_term\") setTimeRange(\"last 4 weeks\");\n    if (range === \"medium_term\") setTimeRange(\"last 6 months\");\n    if (range === \"long_term\") setTimeRange(\"all time\");\n    const url = `${ENDPOINT}?time_range=${range}&limit=50&offset=0`;\n\n    try {\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      setData(response.data);\n      return response.data;\n    } catch (error) {\n      window.location = \"/\";\n    }\n\n    ;\n  };\n\n  useEffect(() => {\n    getTopArtists(\"short_term\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-artists-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Top Artists - \", timeRange, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats__wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"stats-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"last 4 weeks\",\n              onClick: () => {\n                getTopArtists(\"short_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"last 6 months\",\n              onClick: () => {\n                getTopArtists(\"medium_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(StatsButton, {\n              title: \"all time\",\n              onClick: () => {\n                getTopArtists(\"long_term\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data__table__artists\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"artists\",\n            children: data !== null && data !== void 0 && data.items ? data.items.map((item, index) => /*#__PURE__*/_jsxDEV(CardItem, {\n              img: item.images[2].url,\n              idx: index + 1,\n              artist: item.name,\n              path: item.external_urls.spotify\n            }, `${item.id} + ${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(GetTopArtists, \"T26wZXLtM3Pgmx0C0vykdSJre20=\");\n\n_c = GetTopArtists;\nexport default GetTopArtists;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetTopArtists\");","map":{"version":3,"sources":["/Users/kristinegonzales/Projects/spotify-stats/client/src/components/Spotify/GetTopArtists.js"],"names":["React","useState","useEffect","StatsButton","axios","CardItem","Footer","ENDPOINT","GetTopArtists","data","setData","timeRange","setTimeRange","token","localStorage","getItem","getTopArtists","range","url","response","get","headers","Authorization","error","window","location","items","map","item","index","images","name","external_urls","spotify","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport StatsButton from '../StatsButton';\nimport axios from \"axios\";\nimport CardItem from \"../CardItem\";\nimport Footer from \"../Footer\";\n\n// \"https://api.spotify.com/v1/me/shows?offset=0&limit=20\\n\",\nconst ENDPOINT = \"https://api.spotify.com/v1/me/top/artists\";\n\nfunction GetTopArtists() {\n    const [data, setData] = useState({});\n    const [timeRange, setTimeRange] = useState(\"last 4 weeks\")\n\n    const token = localStorage.getItem('accessToken');\n\n    const getTopArtists = async (range) => {\n        if (range === \"short_term\")\n            setTimeRange(\"last 4 weeks\");\n        if (range === \"medium_term\")\n            setTimeRange(\"last 6 months\");\n        if (range === \"long_term\")\n            setTimeRange(\"all time\");\n\n        const url = `${ENDPOINT}?time_range=${range}&limit=50&offset=0`\n        try {\n            const response = await axios.get(url, {\n                headers: {\n                    Authorization: \"Bearer \" + token,\n                },\n            });\n            setData(response.data)\n            return response.data;\n        } catch (error) {\n            window.location = \"/\";\n        };\n    }\n\n    useEffect(() => {\n        getTopArtists(\"short_term\");\n    }, []);\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"top-artists-container\">\n                    <div className=\"title\" >\n                        <h1>Top Artists - {timeRange} </h1>\n                    </div>\n                    <div className=\"stats__wrapper\">\n                        <ul className=\"stats-buttons\">\n                            <StatsButton title=\"last 4 weeks\" onClick={() => {getTopArtists(\"short_term\")}}></StatsButton>\n                            <StatsButton title=\"last 6 months\" onClick={() => {getTopArtists(\"medium_term\")}}></StatsButton>\n                            <StatsButton title=\"all time\" onClick={() => {getTopArtists(\"long_term\")}}></StatsButton>\n                        </ul>\n                    </div>\n                    <div className=\"data__table__artists\">\n                        <ul className=\"artists\">\n                            {data?.items ? data.items.map((item, index) =>\n                                <CardItem key={`${item.id} + ${index}`} img={item.images[2].url} idx={index + 1}\n                                    artist={item.name} path={item.external_urls.spotify}></CardItem>) : null}\n                        </ul>\n                    </div>\n                </div>\n                <Footer/>\n            </div>\n        </>\n    );\n}\n\nexport default GetTopArtists;"]},"metadata":{},"sourceType":"module"}