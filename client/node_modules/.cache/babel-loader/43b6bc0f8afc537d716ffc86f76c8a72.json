{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nexport default function Auth() {\n  _s();\n\n  const getSpotifyAuthResults = hash => {\n    const stringAfterHashtag = hash.substring(1);\n    const params = stringAfterHashtag.split(\"&\");\n    const splitParams = params.reduce((acc, currentVal) => {\n      const [key, val] = currentVal.split(\"=\");\n      acc[key] = val;\n      return acc;\n    }, {});\n    return splitParams;\n  };\n\n  useEffect(() => {\n    if (window.location.hash) {\n      const {\n        access_token,\n        expires_in,\n        token_type\n      } = getSpotifyAuthResults(window.location.hash);\n      localStorage.clear();\n      window.history.pushState({}, null, '/');\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"tokenType\", token_type);\n      localStorage.setItem(\"expiresIn\", expires_in);\n      window.location = \"/home\";\n    }\n  }, []);\n}\n\n_s(Auth, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/kristinegonzales/Projects/spotify-stats/client/src/components/Auth.js"],"names":["useEffect","Auth","getSpotifyAuthResults","hash","stringAfterHashtag","substring","params","split","splitParams","reduce","acc","currentVal","key","val","window","location","access_token","expires_in","token_type","localStorage","clear","history","pushState","setItem"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC3B,QAAMC,qBAAqB,GAAIC,IAAD,IAAU;AACpC,UAAMC,kBAAkB,GAAGD,IAAI,CAACE,SAAL,CAAe,CAAf,CAA3B;AACA,UAAMC,MAAM,GAAGF,kBAAkB,CAACG,KAAnB,CAAyB,GAAzB,CAAf;AACA,UAAMC,WAAW,GAAGF,MAAM,CAACG,MAAP,CAAc,CAACC,GAAD,EAAMC,UAAN,KAAqB;AACnD,YAAM,CAACC,GAAD,EAAMC,GAAN,IAAaF,UAAU,CAACJ,KAAX,CAAiB,GAAjB,CAAnB;AACAG,MAAAA,GAAG,CAACE,GAAD,CAAH,GAAWC,GAAX;AACA,aAAOH,GAAP;AACH,KAJmB,EAIjB,EAJiB,CAApB;AAMA,WAAOF,WAAP;AACH,GAVD;;AAYAR,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,MAAM,CAACC,QAAP,CAAgBZ,IAApB,EAA0B;AAC1B,YAAM;AAAEa,QAAAA,YAAF;AAAgBC,QAAAA,UAAhB;AAA4BC,QAAAA;AAA5B,UACFhB,qBAAqB,CAACY,MAAM,CAACC,QAAP,CAAgBZ,IAAjB,CADzB;AAGAgB,MAAAA,YAAY,CAACC,KAAb;AACAN,MAAAA,MAAM,CAACO,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6B,IAA7B,EAAmC,GAAnC;AACAH,MAAAA,YAAY,CAACI,OAAb,CAAqB,aAArB,EAAoCP,YAApC;AACAG,MAAAA,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCL,UAAlC;AACAC,MAAAA,YAAY,CAACI,OAAb,CAAqB,WAArB,EAAkCN,UAAlC;AACAH,MAAAA,MAAM,CAACC,QAAP,GAAkB,OAAlB;AACC;AACJ,GAZQ,EAYN,EAZM,CAAT;AAaH;;GA1BuBd,I;;KAAAA,I","sourcesContent":["import { useEffect } from 'react';\n\nexport default function Auth() {\n    const getSpotifyAuthResults = (hash) => {\n        const stringAfterHashtag = hash.substring(1);\n        const params = stringAfterHashtag.split(\"&\");\n        const splitParams = params.reduce((acc, currentVal) => {\n            const [key, val] = currentVal.split(\"=\");\n            acc[key] = val;\n            return acc;\n        }, {});\n\n        return splitParams;\n    }\n\n    useEffect(() => {\n        if (window.location.hash) {\n        const { access_token, expires_in, token_type } =\n            getSpotifyAuthResults(window.location.hash);\n\n        localStorage.clear();\n        window.history.pushState({}, null, '/');\n        localStorage.setItem(\"accessToken\", access_token);\n        localStorage.setItem(\"tokenType\", token_type);\n        localStorage.setItem(\"expiresIn\", expires_in);\n        window.location = \"/home\";\n        }\n    }, []);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}